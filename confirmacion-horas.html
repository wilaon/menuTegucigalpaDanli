<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Confirmaci√≥n de Horas Extras</title>
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/confirmacion.css">
</head>
<body>
  <!-- Bot√≥n de regreso -->
  <a href="/" class="btn-back-float" title="Volver al men√∫">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M19 12H5M12 19l-7-7 7-7"/>
    </svg>
    Men√∫
  </a>

  <div class="wrap">
    <div class="card">
      <header>
        <h1>üìã Visualizaci√≥n o Confirmaci√≥n de Horas Extras</h1>
        <div class="subtitle">Revise o confirme sus registros de horas extras</div>
      </header>

      <main>
        <!-- B√∫squeda -->
        <div class="search-section">
          <input type="text" id="dniInput" placeholder="DNI" maxlength="15">
          <button class="btn btn-primary" id="btnBuscar" onclick="buscarRegistros()">
            üîç Buscar
          </button>
          <button class="btn btn-secondary" onclick="limpiarTodo()">
            üóëÔ∏è Limpiar
          </button>
        </div>

        <!-- Mensajes -->
        <div id="mensaje" class="notice hidden"></div>

        <!-- Loading -->
        <div id="loading" class="loading hidden">
          <div class="spinner"></div>
          <div>Buscando registros...</div>
        </div>

        <!-- Info del empleado -->
        <div id="empleadoInfo" class="employee-info hidden">
          <h3 id="empleadoNombre"></h3>
          <div class="details">
            DNI: <strong id="empleadoDNI"></strong>
          </div>
        </div>

        <!-- √Årea de resultados -->
        <div id="resultados" class="hidden">
          <div class="controls">
            <div class="info">
              Registros pendientes: <strong id="totalRegistros">0</strong>
            </div>
            <div>
              <button class="btn btn-secondary" onclick="seleccionarTodos()">
                ‚òëÔ∏è Seleccionar todos
              </button>
              <button class="btn btn-success" id="btnConfirmar" onclick="confirmarSeleccionados()">
                ‚úÖ Confirmar seleccionados
              </button>
            </div>
          </div>

          <div class="table-wrapper">
            <table id="tablaRegistros">
              <thead>
                <tr>
                  <th class="chk-col"></th>
                  <th>Fecha</th>
                  <th>Turno</th>
                  <th>Entrada</th>
                  <th>Salida</th>
                  <th>Total Horas</th>
                  <th>25% Noct</th>
                  <th>25% Diur</th>
                  <th>50% Noct</th>
                  <th>75% Prol</th>
                  <th>100% Fer</th>
                  <th>Ingeniero</th>
                  <th>Observaciones</th>
                </tr>
              </thead>
              <tbody id="tablaBody">
              </tbody>
            </table>
          </div>

          <div class="totals">
            <div class="label">Total horas pendientes de confirmar:</div>
            <div class="value" id="totalHoras">0</div>
          </div>

          <div class="notice warning" style="margin-top: 15px;">
            ‚ö†Ô∏è Al confirmar, usted acepta que las horas extras mostradas son correctas. 
            Esta acci√≥n quedar√° registrada con fecha y hora.
          </div>
        </div>

        <!-- Historial -->
        <div id="historial" class="history hidden">
          <h4>üìú √öltimas confirmaciones</h4>
          <div id="historialLista"></div>
        </div>
      </main>
    </div>
  </div>

  <!-- Scripts en orden de dependencia -->
  <script src="js/config.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/api.js"></script>
  <script src="js/confirmacion.js"></script>
</body>
</html>
